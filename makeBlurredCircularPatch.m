function patch = makeBlurredCircularPatch(siz,sup,ncolors)% siz = 200;% sup = 100;% ncolors = 256;xsize = siz+2*sup;ysize = xsize;[X,Y] = meshgrid(0:(xsize-1),0:(ysize-1));sd = round(sup/3);					%Blur the edges by convolution; sup is blank space that surrounds the patchif sd == 0    sd = 1;endenv = ones(ysize,xsize);					%Result of convolution eventuallyrawr=sqrt((X-xsize/2).^2+(Y-ysize/2).^2);out = find(rawr > siz/2);env(out) = zeros(size(out)); kern = mkGaussKernel(sup,sd);				%Gaussian for convolutionenv = cirConv2(env,kern);env = env./max(max(env));zeromat = env > 0.005;env = env.*zeromat;if ncolors > 0    patch = floor(env*(ncolors-1));end%figure; image(patch); colormap(gray(256))